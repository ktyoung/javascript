<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <!-- 클로저를 이용한 카운터 -->

    <button onclick="incCounter()">+</button>
    <p id="show">0</p>
    <script>
      // ① 자기호출 익명 함수 선언
      // increase라는 상수에 자기호출 익명 함수를 할당
      // 이 함수는 바로 실행되며, 내부에서 counter라는 변수를 0으로 초기화
      // 이 함수는 내부 함수를 반환함. 이 내부 함수는 counter 값을 1 증가시키고, 증가된 값을 반환함.

      // ③ increase() 함수는 counter를 1 증가시키고 그 값을 반환함
      const increase = (function () {
        let counter = 0;

        return function () {
          counter += 1;
          return counter;
        };
      })();

      // ② 버튼을 클릭하면 incCounter()가 호출되면서, increase() 함수가 호출됨
      function incCounter() {
        document.getElementById("show").innerHTML = increase();
      }
    </script>
  </body>
</html>
